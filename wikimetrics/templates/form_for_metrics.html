<form class="form-horizontal metric-configuration" method="POST" action="{{action}}" data-bind="submit: $root.saveMetricConfiguration">
    {% for f in form %}
    {% if f.name != 'csrf_token' %}
        <div class="control-group">
            {{ f.label(class="control-label") }}
            <div class="controls">
                {% if f.type == 'BooleanField' or f.type == 'BetterBooleanField' %}
                    {{ f(**{'data-bind':'checked: '+f.name}) }}
                {% elif f.type == 'DateField' %}
                    {{ f(**{'type':'date', 'data-bind':'value: '+f.name}) }}
                {% else %}
                    {{ f(placeholder=f.description, **{'data-bind':'value: '+f.name}) }}
                {% endif %}
                {% if f.errors %}
                    <ul class="unstyled error-list">
                        {% for e in f.errors %}
                        <li class="text-error">{{ e }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
        </div>
    {% else %}
        {{ f }}
    {% endif %}
    {% endfor %}
    <div class="form-actions">
        <input class="btn btn-primary" type="submit" value="Save Configuration"/>
    </div>
</form>
